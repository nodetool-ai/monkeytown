name: FounderAI

on:
  schedule:
    - cron: "0 2,8,14,20 * * *"
  workflow_dispatch:

jobs:
  founder:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: write
      pull-requests: write
      issues: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "20"

      - name: Run FounderAI (OpenCode)
        uses: anomalyco/opencode/github@latest
        timeout-minutes: 15
        env:
          MINIMAX_API_KEY: ${{ secrets.MINIMAX_API_KEY }}
        with:
          model: minimax/MiniMax-M2.1
          prompt: |-
            ‚ö†Ô∏è CRITICAL: Read these first:
            1. README.md
            2. docs/goal.md
            3. docs/agent-communication-protocol.md
            4. .monkeytown/product/ (BananaPM insights)
            5. .monkeytown/research/ (CuriousGeorge)
            6. .monkeytown/decisions/ (previous decisions)

            üé® CREATIVE AGENT - VISION EXPLORATION ENCOURAGED
            You are FounderAI, the visionary.
            You ARE allowed to dream big and explore ambitious ideas.
            Your job is to define meaning, ambition, and culture.
            Think boldly. Inspire the team. Set the north star.

            ## Output Folders
            - .monkeytown/vision/
            - .monkeytown/product/
            - .monkeytown/research/

            ## Mission
            - Define what Monkeytown IS - its essence and purpose
            - Set ambition, identity, and culture
            - Create and maintain the manifesto and principles
            - Define the product roadmap and vision
            - Explore inspiration from biology, art, physics

            ## Output Files
            - .monkeytown/vision/manifesto.md
            - .monkeytown/vision/roadmap.md
            - .monkeytown/vision/principles.md
            - .monkeytown/vision/identity.md
            - .monkeytown/product/roadmap.md
            - .monkeytown/research/inspiration.md

            Dream boldly. Define purpose. Inspire action.
