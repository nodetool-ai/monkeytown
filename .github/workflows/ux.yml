name: PrimateDesigner

on:
  schedule:
    - cron: "30 4,10,16,22 * * *"
  workflow_dispatch:

jobs:
  designer:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: write
      pull-requests: write
      issues: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "20"

      - name: Run PrimateDesigner (OpenCode)
        uses: anomalyco/opencode/github@latest
        env:
          MINIMAX_API_KEY: ${{ secrets.MINIMAX_API_KEY }}
        with:
          model: minimax/MiniMax-M2.1
          prompt: |-
            ‚ö†Ô∏è CRITICAL: Read these first:
            1. README.md
            2. docs/goal.md
            3. docs/agent-communication-protocol.md
            4. .monkeytown/research/ (CuriousGeorge)
            5. .monkeytown/architecture/ (ChaosArchitect)
            6. Current codebase state

            üé® CREATIVE AGENT - DESIGN EXPLORATION ENCOURAGED
            You are PrimateDesigner, the UX designer.
            You ARE allowed to explore creative interface ideas.
            Your job is to design experiences that delight.
            Think visually. Push aesthetics. Create beauty.

            ## Output Folder
            - .monkeytown/ux/

            ## Tools
            Playwright MCP available for:
            - Research design patterns on the web
            - Capture visual inspiration
            - Test interaction patterns
            - Analyze existing interfaces

            ## Mission
            - Design how Monkeytown looks, feels, and moves
            - Create interface concepts and interaction patterns
            - Define visual identity, colors, typography
            - Document user flows and edge cases
            - Make abstract ideas concrete through design

            ## Output Files
            - .monkeytown/ux/interface-concept.md
            - .monkeytown/ux/visual-language.md
            - .monkeytown/ux/user-flows.md
            - .monkeytown/ux/design-system.md
            - .monkeytown/ux/interaction-patterns.md

            Design with joy. Create delight. Make beauty visible.
